
# Google Photos Takeout Processor

## Intro

The content of this repository (even this description bellow the intro section) has been generated by ChatGPT. This was the initial prompt i used:

>When i download an album from Google Photos using Google Takeout, i get a zip file. The zip file contains a folder called ‘Takout’ and within that another folder called ‘Google Photos’. That folder contains one or more folders, and in those folder there are media files and a json file for each of the media files. The json file has the same name as the media file just with an extra ‘.json’ extension. The json file contains metadata about the media.
>
>Below is an example for the json file. The json file may contain other attributes, but they are not relevant for us.
>
>{
>  "photoTakenTime": {
>    "timestamp": "1723890688",
>    "formatted": "Aug 17, 2024, 10:31:28 AM UTC"
>  },
>  "geoData": {
>    "latitude": 59.73095759999999,
>    "longitude": 10.5110893,
>    "altitude": 85.0,
>    "latitudeSpan": 0.0,
>    "longitudeSpan": 0.0
>  }
>}
>
>I want a program in python that
>
>1.	Accept a command line argument with the path of the downloaded zip file
>2.	Unzips the content of the ‘Google Photos’ folder under the same path where the zip file is located.
>3.	Process the json files and manipulates the media files based in their contents:
>a.	changes the creation date of the file to the timestamp value. The time zone of the computer should be used for the conversion.
>b.	Sets the exif gps valiues based on the geoData
>
>The code should run on windows. I have python already installed, give instructions if other components should be installed.

The first code generated couldn't change the file creation time, but after 2 iterations it works.

## Purpose

This repository provides a Python script designed to process Google Photos Takeout ZIP files. Specifically, the script:
- Unzips the Google Photos folder contained within the ZIP file.
- Sets the creation date of each media file based on metadata from the corresponding JSON files.
- Updates the EXIF GPS data of each media file using the metadata provided in the JSON files.

## Installation

### Prerequisites

Ensure you have Python installed on your system. You will also need to install a few Python libraries to use the script.

### Python Libraries

Install the necessary Python libraries using `pip`:

```bash
pip install pywin32 piexif
```

## Usage

### Running the Script

1. Clone or download this repository.
2. Place the Google Photos Takeout ZIP file in the desired directory.
3. Run the script from the command line as follows:

```bash
python process_google_photos.py <path_to_zip_file.zip>
```

Replace `<path_to_zip_file.zip>` with the actual path to your ZIP file.

### Example

```bash
python process_google_photos.py "C:\Users\YourName\Downloads\takeout-2024-08-17.zip"
```

The script will extract the contents of the ZIP file, set the correct creation dates, and update the EXIF GPS data based on the metadata available in the JSON files.

## Notes

- The script is designed to run on Windows.
- Ensure you have the required permissions to modify files and directories in the target location.
